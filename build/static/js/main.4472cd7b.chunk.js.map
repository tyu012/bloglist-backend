{"version":3,"sources":["components/LoginForm.js","components/Blog.js","components/BlogList.js","components/NewBlogForm.js","components/Notification.js","services/blogs.js","services/login.js","App.js","index.js"],"names":["LoginForm","props","handleLogin","username","setUsername","password","setPassword","onSubmit","type","value","name","onChange","target","Blog","blog","title","author","ActiveUserStatus","user","logout","onClick","BlogList","blogs","map","id","NewBlogForm","handleBlogSubmission","setTitle","setAuthor","url","setUrl","Notification","contents","isShowing","text","success","baseUrl","token","getAll","axios","get","then","response","data","setToken","newToken","submit","a","config","headers","Authorization","post","login","credentials","App","useState","setBlogs","setUser","notification","setNotification","showingNotification","setShowingNotification","useEffect","currentUserJSON","window","localStorage","getItem","JSON","parse","blogService","console","log","showNotification","setTimeout","event","preventDefault","loginService","setItem","stringify","newBlog","likes","concat","removeItem","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.4472cd7b.chunk.js","sourcesContent":["import React from 'react'\n\nconst LoginForm = props => {\n  const {\n    handleLogin,\n    username,\n    setUsername,\n    password,\n    setPassword,\n  } = props\n\n  return (\n    <form onSubmit={handleLogin}>\n      <div>\n        username\n          <input\n            type=\"text\"\n            value={username}\n            name=\"Username\"\n            onChange={({ target }) => setUsername(target.value)}\n          />\n      </div>\n      <div>\n        password\n          <input\n            type=\"text\"\n            value={password}\n            name=\"Password\"\n            onChange={({ target }) => setPassword(target.value)}\n          />\n      </div>\n      <button type=\"submit\">login</button>\n    </form>\n  )\n}\n\nexport default LoginForm","import React from 'react'\nconst Blog = ({blog}) => (\n  <div>\n    {blog.title} {blog.author}\n  </div>  \n)\n\nexport default Blog","import React from 'react'\nimport Blog from './Blog'\n\nconst ActiveUserStatus = ({ user, logout }) => (\n  <div>\n    <p>{user.name} logged in<button onClick={logout}>logout</button></p>\n  </div>\n)\n\nconst BlogList = props => {\n  const { user, blogs, logout } = props\n\n  return (\n    <div>\n      <ActiveUserStatus\n        user={user}\n        logout={logout}\n      />\n\n      {blogs.map(blog =>\n        <Blog key={blog.id} blog={blog} />\n      )}\n    </div>\n  )\n}\n\nexport default BlogList","import React from 'react'\n\nconst NewBlogForm = props => {\n  const {\n    handleBlogSubmission,\n    title,\n    setTitle,\n    author,\n    setAuthor,\n    url,\n    setUrl,\n  } = props\n\n  return (\n    <form onSubmit={handleBlogSubmission}>\n      <div>\n        title:\n        <input\n          type=\"text\"\n          value={title}\n          name=\"title\"\n          onChange={({ target }) => setTitle(target.value)}\n        />\n      </div>\n      <div>\n        author:\n        <input\n          type=\"text\"\n          value={author}\n          name=\"author\"\n          onChange={({ target }) => setAuthor(target.value)}\n        />\n      </div>\n      <div>\n        url:\n        <input\n          type=\"text\"\n          value={url}\n          name=\"url\"\n          onChange={({ target }) => setUrl(target.value)}\n        />\n      </div>\n      <button type=\"submit\">create</button>\n    </form>\n  )\n}\n\nexport default NewBlogForm","import React from 'react'\n\nconst Notification = ({ contents, isShowing }) => {\n  const { success, text } = contents\n\n  if (isShowing) {\n    return (\n      <div>{text}</div>\n    )\n  } else {\n    return (<div></div>)\n  }\n}\n\nexport default Notification","import axios from 'axios'\nconst baseUrl = '/api/blogs'\n\nlet token = null\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst setToken = newToken => token = `bearer ${newToken}`\n\nconst submit = async blog => {\n  const config = {\n    headers: { Authorization: token },\n  }\n\n  const response = await axios.post(baseUrl, blog, config)\n  return response.data\n}\n\nexport default { getAll, setToken, submit }","import axios from 'axios'\nconst baseUrl = '/api/login'\n\nconst login = async credentials => {\n  const response = await axios.post(baseUrl, credentials)\n  return response.data\n}\n\nexport default { login }","import React, { useState, useEffect } from 'react'\n\nimport LoginForm from './components/LoginForm'\nimport BlogList from './components/BlogList'\nimport NewBlogForm from './components/NewBlogForm'\nimport Notification from './components/Notification'\n\nimport blogService from './services/blogs'\nimport loginService from './services/login'\n\nconst App = () => {\n  const [blogs, setBlogs] = useState([])\n  // authentication\n  const [username, setUsername] = useState('')\n  const [password, setPassword] = useState('')\n  const [user, setUser] = useState(null)\n  // blog submission\n  const [title, setTitle] = useState('')\n  const [author, setAuthor] = useState('')\n  const [url, setUrl] = useState('')\n  const [notification, setNotification] = useState({})\n  const [showingNotification, setShowingNotification] = useState(false)\n\n  useEffect(() => {\n    const currentUserJSON = window.localStorage.getItem('currentBloglistUser')\n\n    if (currentUserJSON) {\n      const user = JSON.parse(currentUserJSON)\n      setUser(user)\n      blogService.setToken(user.token)\n      console.log('user found:', user.username)\n    } else {\n      console.log('user not found')\n    }\n\n    blogService.getAll().then(blogs =>\n      setBlogs(blogs)\n    )\n  }, [])\n\n  const showNotification = contents => {\n    setNotification(contents)\n    setShowingNotification(true)\n    setTimeout(() => {\n      setShowingNotification(false)\n      setNotification({})\n    }, 2500)\n  }\n\n  const handleLogin = async event => {\n    event.preventDefault()\n\n    try {\n      const user = await loginService.login({ username, password })\n\n      window.localStorage.setItem('currentBloglistUser', JSON.stringify(user))\n\n      setUser(user)\n      blogService.setToken(user.token)\n      setUsername('')\n      setPassword('')\n      showNotification({ success: true, text: `logged in as ${user.username}` })\n    } catch (exception) {\n      console.log('login failed')\n      showNotification({ success: false, text: 'wrong username or password' })\n    }\n  }\n\n  const logout = event => {\n    event.preventDefault()\n\n    setUser(null)\n    window.localStorage.removeItem('currentBloglistUser')\n    showNotification({ success: true, text: 'logged out' })\n  }\n\n  const handleBlogSubmission = async event => {\n    event.preventDefault()\n    const newBlog = {\n      title,\n      author,\n      url,\n      likes: 0,\n    }\n\n    try {\n      const blog = await blogService.submit(newBlog)\n      console.log('blog submitted', blog)\n      setBlogs(blogs.concat(blog))\n      \n      if (blog) {\n        showNotification({ success: true, text: `${blog.title} added` })\n      } else {\n        showNotification({ success: false, text: 'blog creation failed' })\n      }\n    } catch {\n      console.log('blog submission failed')\n      showNotification({ success: false, text: 'blog creation failed' })\n    }\n  }\n\n  return user ?\n    (\n      <div>\n        <h2>Blogs</h2>\n        {<Notification contents={notification} isShowing={showingNotification} />}\n        <h3>Create new</h3>\n        <NewBlogForm\n          handleBlogSubmission={handleBlogSubmission}\n          title={title}\n          setTitle={setTitle}\n          author={author}\n          setAuthor={setAuthor}\n          url={url}\n          setUrl={setUrl}\n        />\n        <BlogList\n          user={user}\n          blogs={blogs}\n          logout={logout}\n        />\n      </div>\n    ) :\n    (\n      <div>\n        <h2>Login</h2>\n        {<Notification contents={notification} isShowing={showingNotification} />}\n        <LoginForm\n          handleLogin={handleLogin}\n          username={username}\n          setUsername={setUsername}\n          password={password}\n          setPassword={setPassword}\n        />\n      </div>\n    )\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}